plugins {
    id 'java'
}

group 'org.aion.rpc'

def getCommitHash = { ->
    def hashStdOut = new ByteArrayOutputStream()
    exec {
        commandLine "sh", "-c", "git log --pretty=format:%h | head -1"
        standardOutput = hashStdOut
    }
    return hashStdOut.toString().trim()
}

version = "0.1.1.${getCommitHash()}"

sourceCompatibility = 1.11

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile files("lib/util4j-cc9c754dd.jar")
    compile files("lib/aion-types-22a3be9.jar")
    compile group: 'org.json', name: 'json', version: '20180130'
}
